**객체지향 패러다임의 핵심**

1. 역할(role)
2. 책임(responsibility)
3. 협력(collaboration)

- 객체지향의 본질은 협력하는 객체들의 공동체를 창조하는 것.
- 객체지향 원칙을 따르는 애플리케이션의 제어 흐름은 하나의 객체에 의해 통제되지 않고, 다양한 객체들 사이에 균형 있게 분배되는 것
    - → 요청의 흐름에 따라 자신에게 분배된 로직을 실행하며 애플리케이션의 전체 기능을 완성

# 1. 협력

- ‘메시지 전송’은 객체 사이의 협력을 위해 사용할 수 있는 유일한 커뮤니케이션 수단이다.
    - 메시지를 수신한 객체는 ‘메서드’를 실행해 요청에 응답한다.
- 객체를 자율적으로 만드는 가장 기본적인 방법은 ‘내부구현 캡슐화’ 이다.
    - 변경에 대한 파급 효과를 제한할 수 있다.

객체의 행동을 결정하는 것이 협력이면, 객체의 상태를 결정하는 것은 행동이다.

객체가 참여하는 협력이 객체를 구성하는 행동과 상태 모두 결정한다 → 협력은 객체를 설계하는데 필요한 일종의 ‘문맥(context)’를 제공한다.

# 2. 책임

- 협력에 참여하기 위해 객체가 수행하는 행동
- 객체지향 설계에서 가장 중요하다 → 설계의 전체적인 품질을 결정함.
    - 객체의 구현 방법은 책임보다는 덜 중요하며 책임을 결정한 다음에 고민하자.

- **객체의 책임**
    1. 무엇을 알고 있는가(knowing)
        1. 사적인 정보에 관해 아는것
        2. 관련된 객체에 관해 아는것
        3. 자신이 유도하거나 계산할 수 있는 것에 관해 아는것
    2. 무엇을 할 수 있는가(doing)
        1. 객체를 생성하거나 계산을 수행하는 등 스스로 하는것
        2. 다른 객체의 행동을 시작시키는 것
        3. 다른 객체의 활동을 제어하고 조절하는 것

책임과 메시지의 크기는 다르다.

→ 책임은 종합적이고 간략하게 서술하기 때문에 메시지보다 추상적이고 개념적으로도 더 크다.

## 책임 할당

책임을 수행하는데 필요한 정보를 가장 잘 알고있는 전문가에게 책임을 할당하는 것 → INFORMATION EXPERT(정보 전문가) 패턴

- 협력을 설계하는 출발점은 사용자에게 제공할 기능을 시스템이 담당할 하나의 책임으로 바라보는 것.

협력에 필요한 메시지를 찾고, 메시지에 적절한 객체를 선택하는 반복적인 과정이 이뤄진다.

그런 메시지가 메시지를 수신할 객체의 책임을 결정하고, 이렇게 결정된 메시지가 객체의 public 인터페이스를 구성한다.

## 책임 주도 설계

책임을 찾고 책임을 수행할 적절한 객체를 찾아 책임을 할당하는 방식으로 협력을 설계하는 방법 → RDD(Responsibility-Driven Design)

- **메시지가 객체를 선택해야 하는 두가지 중요한 이유**
    1. 객체가 최소한의 인터페이스를 가질 수 있게 된다.
        1. 필요한 메시지가 식별될 때까지 퍼블릭 인터페이스에 어떤것도 추가하지 않기 때문.
    2. 객체는 충분히 추상적인 인터페이스를 가질 수 있게 된다.
        1. 메시지를 먼저 식별하면 무엇을 수행할지에 초점을 맞추는 인터페이스를 얻을 수 있다.

객체의 행동이 아니라 상태에 초점을 맞추어, 상태가 무엇인지를 결정하고 상태에 필요한 행동을 결정하는데 이 방식은 내부 구현이 퍼블릭에 노출되도록 만들어 캡슐화가 저해된다.

→ DDD 방식

# 3. 역할

- 역할이 중요한 이유는 역할을 통해 유연하고 재사용 가능한 협력을 얻을 수 있기 때문
- 역할은 ‘다른 것으로 교체할 수 있는 책임의 집합’
    - 추상화를 활용하여 역할을 중심으로 협력을 바라보아 중복을 제거 가능
- 역할을 구현하는 **가장 일반적인 방법은 추상 클래스와 인터페이스를 사용하는것.**

## 객체 vs 역할

- 협력에 참여하는 후보가 여러종류의 객체에 의해 수행 될 필요가 있다면 ‘역할’
    - → 협력에 여러 종류 객체들이 참여 할 수 있다면 역할
- 단지 한 종류만의 객체만이 협력에 참여할 필요가 있다면 ‘객체’
    - → 협력에 적합한 책임을 수행하는 대상이 한 종류라면 객체

## 역할과 추상화

![Untitled](https://prod-files-secure.s3.us-west-2.amazonaws.com/34ea7cb7-d202-4e90-926d-07b7bc241167/7688b354-de99-470c-9581-67b92165bf98/Untitled.png)

![Untitled](https://prod-files-secure.s3.us-west-2.amazonaws.com/34ea7cb7-d202-4e90-926d-07b7bc241167/c9d4c626-55bf-4c18-8d1f-88d3ad09620d/Untitled.png)

- 구체적인 세부사항을 단순화하여 상위 수준에서 협력을 설명할 수 있다.