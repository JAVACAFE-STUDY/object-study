# 01. 프로시저 추상화와 데이터 추상화

- 시스템을 분리하기 위한 기준으로 기능을 사용
    - 기능 분해의 관점에서 추상화의 단위는 프로시저 시스템은 프로시저 단위로 분해
- 전통적인 기능 분해 방법은 하향식 접근법을 따른다.
    - 시스템을 구성하는 가장 최상위 기능을 정의하고
    - 최상위 기능을 좀 더 작은 단계의 하위 기능으로 분해해 나가는 방법을 의미

```kotlin
직원의 급여를 계산
	사용자로부터 소득세율을 입력받는다.
	"세율을 입력하세요: "라는 문장을 화면에 출력한다.
	키보드를 통해 세율을 입력받는다.
  직원의 급여를 계산한다.
  전역 변수에 저장된 직원의 기본급 정보를 얻는다.
  급여를 계산한다.
  양식에 맞게 결과를 출력한다.
  "이름: {직원명}, 급여: {계산된 금액}" 형식에 따라 출력 문자열을 생성한다.
```

- 기능 분해는 상기 로직처럼 진행한다.
    - 각 정제 단계는 이전 문장의 추상화 수준을 감소시켜야 한다.
    - 기능을 중심으로 필요한 데이터를 결정한다.

## 하향식 기능 분해 방식의 문제점

- 하향식 기능 분해는 시스템을 최상위의 가장 추상적인 메인 함수로 정의하고, 메인 함수를 구현 가능한 수준까지 세부적인 단계로 분해한다.
    - 메인 함수를 루트로 하는 트리로 표현할 수 있다.
- 실제로는 다양한 문제에 직면
- 시스템은 하나의 메인 함수로 구성되어 있지 않다.
- 기능 추가나 요구사항 변경으로 인해 함수를 빈번하게 수정해야 한다.
- 비즈니스 로직이 사용자 인터페이스와 강하게 결합
    - 입력 방법과 출력 양식을 함께 고민하도록 강요
- 하향식 분해는 너무 이른 시기에 실행 순서를 고정시키기에 유연성과 재사용성이 저하됨
    - 하향식 설계는 어떻게 동작해야 하는지에 집중하도록 만든다.
    - 처음부터 구현을 염두하기에 함수들의 실행 순서를 정의하는 시간 제약을 강조
- 데이터 형식이 변경될 경우 파급효과를 예측할 수 없다.
    - 어떤 데이터를 어떤 함수가 사용하고 있는지를 추적하기 어렵다.
- 하향식은 이미 완전히 이해된 사실을 서술하기에 적합한 방법
    - 새로운 것을 개발하고, 설계하고 발견하는 데는 적합한 방법이 아니다.

# 03. 모듈

- 시스템의 변경을 관리하는 기본적인 전략은 함께 변경되는 부분을 하나의 구현 단위로 묶고 퍼블릭 인터페이스를 통해서만 접근하도록 만드는 것이다
    - 변경의 방향에 맞춰 시스템을 분해

- **정보 은닉**
    - 시스템을 모듈 단위로 분해하기 위한 기본 원리로 시스템에서 자주 변경되는 부분을 상대적으로 덜 변경되는 안정적인 인터페이스 뒤로 감춰야 한다.
    - 외부에 감춰야 하는 비밀에 따라 시스템을 분할하는 모듈 분할 원리

### **모듈**

- 복잡성
    - 모듈이 너무 복잡한 경우 이해하고 사용하기 어렵다.
    - 외부에 모듈을 추상화할 수 있는 간단한 인터페이스를 제공해서 모듈의 복잡도를 낮춘다.
- 변경 가능성
    - 변경 가능한 설계 결정이 외부에 노출될 경우 실제로 변경이 발생했을 때 파급 효과가 커진다.
    - 변경 발생 시 하나의 모듈만 수정되도록 변경 가능한 설계 과정을 모듈 내부로 감추고 외부에는 쉽게 변경되지 않을 인터페이스를 제공.
- 데이터 캡슐화와 정보 은닉은 다르다.
    - 데이터와 메서드를 하나의 단위로 통합하고 public method를 통해서만 접근하도록 허용하는 방법이 데이터 캡슐화

- **장점**
    - 모듈 내부의 변수가 변경되더라도 모듈 내부에만 영향
    - 비즈니스 로직과 사용자 인터페이스에 대한 관심사를 분리
    - 전역 변수와 전역 함수를 제거해서 네임스페이스 오염 방지
- **한계**
    - 인스턴스의 개념을 제공하지 않는다.
    - 다수의 직원 인스턴스가 존재하는 추상화 메커니즘이 필요하다

# 05. 클래스

- 클래스는 추상 데이터 타입인가?
    - 명확한 의미에서 추상 데이터 타입과 클래스는 동일하지 않다.
    - 클래스는 상속과 다형성을 지원하는 데 비해 추상 데이터 타입은 지원하지 못한다.
    - 객체지향 프로그래밍 vs 객체기반 프로그래밍
- 추상 데이터 타입은 타입을 추상화한 것, 클래스는 타입을 기준으로 절차를 추상화한 것
    - 추상 데이터 타입을 이용하면 하나의 클래스 안에 여러 개의 타입들이 사용 가능한 메서드들이 있다.
    - 객체지향은 각 타입에 맞게 클래스를 구현하게 그 클래스들이 사용 가능한 메서드들을 구현

**변경을 기준으로 선택하라**

- 클래스가 추상 데이터 타입의 개념을 따르는지를 확인할 수 있는 가장 간단한 방법은
    - 클래스 내부에 **인스턴스의 타입을 표현하는 변수**가 있는지 확인
    - 인스턴스 변수에 저장된 값을 기반으로 메서드 내에서 타입을 명시적으로 구분하면 객체지향 위반
- 객체지향에서는 타입 변수를 이용한 조건문을 다형성으로 대체

**협력이 중요하다.**

- 객체지향에서 중요한 것은 역할, 책임, 협력
    - 객체가 참여할 협력을 결정하고 협력에 필요한 책임을 수행하기 위해 어떤 객체가 필요한지에 관해 고민하자.
    - 그 책임을 다양한 방식으로 수행해야 할 때만 타입 계층 안에 각 절차를 추상화